$REG $CONST
push $REG
xor $REG, $REG
test $REG, $CONST
jnz const_not_zero
mov $REG, $CONST
jmp done
const_not_zero:
pop $REG
sub $REG, $CONST
done:
----------
$REG $CONST
neg $REG
add $REG, $CONST
neg $REG
----------
$REG $CONST
push eax
mov eax, $CONST
neg eax
add $REG, eax
pop eax